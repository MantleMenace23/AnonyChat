<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AnonyChat â€” Join</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body class="join-body">
  <main class="join-card" role="main" aria-labelledby="joinTitle">
    <h1 id="joinTitle" class="join-title">AnonyChat</h1>

    <p class="join-sub">Enter a room code (create one if none exists) and a display name.</p>

    <form id="joinForm" class="join-form" autocomplete="off">
      <label class="visually-hidden" for="nameInput">Your name</label>
      <input id="nameInput" name="name" type="text" placeholder="Your name" maxlength="32" required>

      <label class="visually-hidden" for="roomInput">Room code</label>
      <input id="roomInput" name="room" type="text" placeholder="Room code (letters/numbers)" maxlength="64" required>

      <div class="join-actions">
        <button id="joinBtn" type="submit" class="btn-primary">Join Room</button>
      </div>
    </form>

    <p class="join-note">Tip: Use a short code like <code>party123</code> or a name friends can remember.</p>
  </main>

  <script>
    // Redirect to chat.html with query params on submit
    document.getElementById('joinForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const name = document.getElementById('nameInput').value.trim();
      const room = document.getElementById('roomInput').value.trim();
      if (!name || !room) {
        alert('Please enter both a name and a room code.');
        return;
      }
      // Encode and redirect
      const url = `chat.html?name=${encodeURIComponent(name)}&room=${encodeURIComponent(room)}`;
      window.location.href = url;
    });

    // Accessibility helper: focus name field on load
    document.getElementById('nameInput').focus();
  </script>
</body>
</html>
